{%- liquid
  assign product = section.settings.product
-%}

{%- capture Content -%}
{% if product != blank %}
  {%- render 'product-section', product: product -%}
{% else %}
  {% render 'onboarding-featured-product' %}
{% endif %}
{%- endcapture -%}

{% render 'section-body',
  content: Content,
  color_scheme: section.settings.color_scheme
%}

{% schema %}
{
  "name": "Featured product",
  "tag": "section",
  "class": "product-section spaced-section",
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "text",
      "name": "Text block",
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "label": "t:sections.main-product.blocks.text.settings.text.label"
        },
        {
          "type": "select",
          "id": "text_style",
          "options": [
            {
              "value": "body",
              "label": "t:sections.main-product.blocks.text.settings.text_style.options__1.label"
            },
            {
              "value": "subtitle",
              "label": "t:sections.main-product.blocks.text.settings.text_style.options__2.label"
            }
          ],
          "default": "body",
          "label": "t:sections.main-product.blocks.text.settings.text_style.label"
        },
        {
          "type": "checkbox",
          "id": "text_uppercase",
          "label": "Uppercase text"
        },
        {
          "type": "select",
          "id": "text_weight",
          "label": "Font weight",
          "options": [
            {
              "value": "normal",
              "label": "Normal"
            },
            {
              "value": "bold",
              "label": "Bold"
            }
          ],
          "default": "normal"
        },
        {
          "type": "url",
          "id": "text_url",
          "label": "Link"
        },
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "title",
      "name": "Product title",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "size",
          "label": "Size",
          "options": [
            {
              "value": "sm",
              "label": "Small"
            },
            {
              "value": "md",
              "label": "Medium"
            },
            {
              "value": "lg",
              "label": "Large"
            }
          ],
          "default": "md"
        },
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "price",
      "name": "t:sections.main-product.blocks.price.name",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "size",
          "label": "Size",
          "options": [
            {
              "value": "sm",
              "label": "Small"
            },
            {
              "value": "md",
              "label": "Medium"
            },
            {
              "value": "lg",
              "label": "Large"
            }
          ],
          "default": "md"
        },
        {
          "type": "checkbox",
          "id": "show_heading",
          "label": "Show price headings",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_savings",
          "label": "Show savings",
          "default": true
        },
        {
          "type": "select",
          "id": "font_weight",
          "label": "Font weight",
          "options": [
            {
              "value": "normal",
              "label": "Normal"
            },
            {
              "value": "bold",
              "label": "Bold"
            }
          ]
        },
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "quantity_selector",
      "name": "t:sections.main-product.blocks.quantity_selector.name",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "pickup_availability",
      "name": "t:sections.main-product.blocks.pickup_availability.name",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "variant_picker",
      "name": "t:sections.main-product.blocks.variant_picker.name",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "picker_type",
          "options": [
            {
              "value": "dropdown",
              "label": "Dropdowns"
            },
            {
              "value": "swatch",
              "label": "Buttons"
            }
          ],
          "default": "swatch",
          "label": "Style"
        },
        {
          "type": "checkbox",
          "id": "color_swatches",
          "label": "Enable color swatches",
          "info": "[Learn more](https://support.milehighthemes.com/hc/en-us/articles/360019946294-How-do-I-setup-color-swatches-on-my-product-pages-)"
        },
        {
          "type": "checkbox",
          "id": "color_first",
          "label": "Make color first option",
          "default": true
        }
      ]
    },
    {
      "type": "stock_alert",
      "name": "Stock status",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "in_stock_msg",
          "label": "In stock message",
          "default": "In stock! Usually ships within 24 hours."
        },
        {
          "type": "text",
          "id": "out_of_stock_msg",
          "label": "Out of stock message",
          "default": "This item is temporary out of stock"
        },
        {
          "type": "text",
          "id": "low_stock_msg",
          "label": "Low stock message",
          "default": "Only [[amount]] left in stock!",
          "info": "[[amount]] is indicating current inventory quantity"
        },
        {
          "type": "range",
          "id": "stock_threshold",
          "min": 1,
          "max": 15,
          "step": 1,
          "default": 5,
          "label": "Low stock threshold"
        },
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "buy_buttons",
      "name": "t:sections.main-product.blocks.buy_buttons.name",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_dynamic_checkout",
          "default": true,
          "label": "t:sections.main-product.blocks.buy_buttons.settings.show_dynamic_checkout.label",
          "info": "t:sections.main-product.blocks.buy_buttons.settings.show_dynamic_checkout.info"
        },
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "description",
      "name": "Product description",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "text_size",
          "label": "Text size",
          "options": [
            {
              "value": "sm",
              "label": "Small"
            },
            {
              "value": "md",
              "label": "Medium"
            },
            {
              "value": "lg",
              "label": "Large"
            }
          ],
          "default": "md"
        },
        {
          "type": "checkbox",
          "id": "use_expand",
          "default": true,
          "label": "Add 'Read more' link for long descriptions"
        },
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "share",
      "name": "t:sections.main-product.blocks.share.name",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "t:sections.main-product.blocks.share.settings.featured_image_info.content"
        },
        {
          "type": "paragraph",
          "content": "t:sections.main-product.blocks.share.settings.title_info.content"
        },
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "rating",
      "name": "Product rating",
      "settings": [
        {
          "type": "paragraph",
          "content": "Add reviews by installing the [Shopify Product Reviews app](https://apps.shopify.com/product-reviews)"
        },
        {
          "type": "checkbox",
          "id": "show_count",
          "label": "Show reviews count",
          "default": true
        }
      ]
    },
    {
      "type": "collapsible_tab",
      "name": "Accordion",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "default": "Collapsible tab",
          "info": "t:sections.main-product.blocks.collapsible_tab.settings.heading.info",
          "label": "t:sections.main-product.blocks.collapsible_tab.settings.heading.label"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        },
        {
          "type": "page",
          "id": "page",
          "label": "t:sections.main-product.blocks.collapsible_tab.settings.page.label",
          "info": "Page content will be displayed in accordion"
        }
      ]
    },
    {
      "type": "popup",
      "name": "t:sections.main-product.blocks.popup.name",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "default": "Pop-up link text",
          "label": "Link title"
        },
        {
          "id": "page",
          "type": "page",
          "label": "t:sections.main-product.blocks.popup.settings.page.label",
          "info": "Page content will be displayed in popup"
        },
        {
          "type": "checkbox",
          "id": "show_page_title",
          "label": "Show page title",
          "default": true
        },
        {
          "type": "select",
          "id": "text_size",
          "label": "Text size",
          "options": [
            {
              "value": "sm",
              "label": "Small"
            },
            {
              "value": "md",
              "label": "Medium"
            },
            {
              "value": "lg",
              "label": "Large"
            }
          ],
          "default": "md"
        },
        {
          "type": "select",
          "id": "text_align",
          "label": "Alignment",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            }
          ],
          "default": "left"
        },
        {
          "type": "checkbox",
          "id": "prev_attach",
          "label": "Attach to previous block",
          "info": "Reduces excess padding",
          "default": false
        }
      ]
    },
    {
      "type": "separator",
      "name": "Line separator"
    },
    {
      "type": "custom_html",
      "name": "Custom HTML",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading (optional)"
        },
        {
          "type": "html",
          "id": "html",
          "label": "HTML",
          "default": "<p>Custom HTML content.</p>"
        }
      ]
    },
    {
      "type": "custom_image",
      "name": "Custom image",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading (optional)"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Image link (optional)"
        }
      ]
    }
  ],
  "settings": [
  {
    "type": "product",
    "id": "product",
    "label": "Product"
  },
  {
    "type": "select",
    "id": "color_scheme",
    "label": "Color scheme",
    "options": [
      {
        "value": "default",
        "label": "Default"
      },
      {
        "value": "alt",
        "label": "Alternate"
      }
    ],
    "default": "alt"
  },

    {
      "type": "header",
      "content": "Image gallery",
      "info": "t:sections.main-product.settings.header.info"
    },
    {
      "type": "checkbox",
      "id": "slideshow_zoom",
      "label": "Enable image zoom",
      "default": true
    },
    {
      "type":"select",
      "id":"image_ratio",
      "options":[
         {
            "value":"landscape",
            "label":"Landscape"
         },
         {
            "value":"portrait",
            "label":"t:sections.collection-list.settings.image_ratio.options__2.label"
         },
         {
            "value":"square",
            "label":"t:sections.collection-list.settings.image_ratio.options__3.label"
         },
         {
           "value": "original",
           "label": "Original image ratio"
         }
      ],
      "default":"original",
      "label":"Image ratio"
   },
    {
      "type": "select",
      "id": "slideshow_position",
      "label": "Position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "select",
      "id": "slideshow_size",
      "label": "Width",
      "options": [
        {
          "value": "narrow",
          "label": "Narrow"
        },
        {
          "value": "normal",
          "label": "Normal"
        },
        {
          "value": "wide",
          "label": "Wide"
        }
      ],
      "default": "wide"
    },
    {
      "type": "select",
      "id": "slideshow_thumbs_position",
      "label": "Thumbnail display",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        },
        {
          "value": "none",
          "label": "None"
        }
      ],
      "default": "left"
    },
    {
      "type": "checkbox",
      "id": "gallery_padding",
      "label": "Add gallery padding",
      "default": false
    },
    {
      "type": "header",
      "content": "Product description"
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_info",
      "default": true,
      "label": "Enable sticky description"
    },
    {
      "type": "select",
      "id": "content_align",
      "label": "Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        }
      ],
      "default": "left"
    }
  ],
  "presets": [
  {
    "name": "Featured product",
    "blocks": [
      {
        "type": "title"
      },
      {
        "type": "price"
      },
      {
        "type": "buy_buttons"
      }
    ]
  }
]
}
{% endschema %}


